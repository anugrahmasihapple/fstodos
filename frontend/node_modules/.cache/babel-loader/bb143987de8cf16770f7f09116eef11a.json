{"ast":null,"code":"var _jsxFileName = \"/Users/musubimanagement/Desktop/django_react_todo/frontend/src/App.js\";\n// import Component from the react module\nimport React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from 'axios';\nimport index from './index'; // create a class that extends the component\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  // add a constructor to take props\n  constructor(props) {\n    super(props); // add the props here\n\n    this.refreshList = () => {\n      axios //Axios to send and receive HTTP requests\n      .get(\"http://localhost:8000/api/tasks/\").then(res => this.setState({\n        taskList: res.data\n      })).catch(err => console.log(err));\n    };\n\n    this.displayCompleted = status => {\n      if (status) {\n        return this.setState({\n          viewCompleted: true\n        });\n      }\n\n      return this.setState({\n        viewCompleted: false\n      });\n    };\n\n    this.renderTabList = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-5 tab-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => this.displayCompleted(true),\n          className: this.state.viewCompleted ? \"active\" : \"\",\n          children: \"completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => this.displayCompleted(false),\n          className: this.state.viewCompleted ? \"\" : \"active\",\n          children: \"Incompleted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 2\n      }, this);\n    };\n\n    this.renderItems = () => {\n      const {\n        viewCompleted\n      } = this.state;\n      const newItems = this.state.taskList.filter(item => item.completed === viewCompleted);\n      return newItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `todo-title mr-2 ${this.state.viewCompleted ? \"completed-todo\" : \"\"}`,\n          title: item.description,\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.editItem(item),\n            className: \"btn btn-secondary mr-2\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.handleDelete(item),\n            className: \"btn btn-danger\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 3\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 2\n      }, this));\n    };\n\n    this.toggle = () => {\n      //add this after modal creation\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.handleSubmit = item => {\n      this.toggle();\n      alert(\"save\" + JSON.stringify(item));\n    };\n\n    this.handleSubmit = item => {\n      this.toggle();\n\n      if (item.id) {\n        // if old post to edit and submit\n        axios.put(`http://localhost:8000/api/tasks/${item.id}/`, item).then(res => this.refreshList());\n        return;\n      } // if new post to submit\n\n\n      axios.post(\"http://localhost:8000/api/tasks/\", item).then(res => this.refreshList());\n    };\n\n    this.handleDelete = item => {\n      axios.delete(`http://localhost:8000/api/tasks/${item.id}/`).then(res => this.refreshList());\n    };\n\n    this.handleDelete = item => {\n      alert(\"delete\" + JSON.stringify(item));\n    };\n\n    this.createItem = () => {\n      const item = {\n        title: \"\",\n        description: \"\",\n        completed: false\n      };\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n\n    this.editItem = item => {\n      this.setState({\n        activeItem: item,\n        modal: !this.state.modal\n      });\n    };\n\n    this.state = {\n      // the viewCompleted prop represents the status\n      // of the task. Set it to false by default\n      viewCompleted: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false\n      },\n      // this list stores all the completed tasks\n      taskList: []\n    };\n  } // Add componentDidMount()\n\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  // Start by visual effects to viewer\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-success text-uppercase text-center my-4\",\n        children: \"GFG Task Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-sm-10 mx-auto p-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.createItem,\n                className: \"btn btn-info\",\n                children: \"Add task\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 5\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 4\n            }, this), this.renderTabList(), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group list-group-flush\",\n              children: this.renderItems()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 4\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 3\n      }, this), this.state.modal ? /*#__PURE__*/_jsxDEV(Modal, {\n        activeItem: this.state.activeItem,\n        toggle: this.toggle,\n        onSave: this.handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 3\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 2\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","Modal","axios","index","App","constructor","props","refreshList","get","then","res","setState","taskList","data","catch","err","console","log","displayCompleted","status","viewCompleted","renderTabList","state","renderItems","newItems","filter","item","completed","map","description","title","editItem","handleDelete","id","toggle","modal","handleSubmit","alert","JSON","stringify","put","post","delete","createItem","activeItem","componentDidMount","render"],"sources":["/Users/musubimanagement/Desktop/django_react_todo/frontend/src/App.js"],"sourcesContent":["// import Component from the react module\nimport React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from 'axios';\nimport index from './index'\n\n// create a class that extends the component\nclass App extends Component {\n\n// add a constructor to take props\nconstructor(props) {\n\tsuper(props);\n\t\n\t// add the props here\n\tthis.state = {\n\t\n\t// the viewCompleted prop represents the status\n\t// of the task. Set it to false by default\n\tviewCompleted: false,\n\tactiveItem: {\n\t\ttitle: \"\",\n\t\tdescription: \"\",\n\t\tcompleted: false\n\t},\n\t\n\t// this list stores all the completed tasks\n\ttaskList: []\n\t};\n}\n\n// Add componentDidMount()\ncomponentDidMount() {\n\tthis.refreshList();\n}\n\n\nrefreshList = () => {\n\taxios //Axios to send and receive HTTP requests\n\t.get(\"http://localhost:8000/api/tasks/\")\n\t.then(res => this.setState({ taskList: res.data }))\n\t.catch(err => console.log(err));\n};\n\n// this arrow function takes status as a parameter\n// and changes the status of viewCompleted to true\n// if the status is true, else changes it to false\ndisplayCompleted = status => {\n\tif (status) {\n\treturn this.setState({ viewCompleted: true });\n\t}\n\treturn this.setState({ viewCompleted: false });\n};\n\n// this array function renders two spans that help control\n// the set of items to be displayed(ie, completed or incomplete)\nrenderTabList = () => {\n\treturn (\n\t<div className=\"my-5 tab-list\">\n\t\t<span\n\t\tonClick={() => this.displayCompleted(true)}\n\t\tclassName={this.state.viewCompleted ? \"active\" : \"\"}\n\t\t>\n\t\tcompleted\n\t\t\t</span>\n\t\t<span\n\t\tonClick={() => this.displayCompleted(false)}\n\t\tclassName={this.state.viewCompleted ? \"\" : \"active\"}\n\t\t>\n\t\tIncompleted\n\t\t\t</span>\n\t</div>\n\t);\n};\n// Main variable to render items on the screen\nrenderItems = () => {\n\tconst { viewCompleted } = this.state;\n\tconst newItems = this.state.taskList.filter(\n\t(item) => item.completed === viewCompleted\n\t);\n\treturn newItems.map((item) => (\n\t<li\n\t\tkey={item.id}\n\t\tclassName=\"list-group-item d-flex justify-content-between align-items-center\"\n\t>\n\t\t<span\n\t\tclassName={`todo-title mr-2 ${\n\t\t\tthis.state.viewCompleted ? \"completed-todo\" : \"\"\n\t\t}`}\n\t\ttitle={item.description}\n\t\t>\n\t\t{item.title}\n\t\t</span>\n\t\t<span>\n\t\t<button\n\t\t\tonClick={() => this.editItem(item)}\n\t\t\tclassName=\"btn btn-secondary mr-2\"\n\t\t>\n\t\t\tEdit\n\t\t</button>\n\t\t<button\n\t\t\tonClick={() => this.handleDelete(item)}\n\t\t\tclassName=\"btn btn-danger\"\n\t\t>\n\t\t\tDelete\n\t\t</button>\n\t\t</span>\n\t</li>\n\t));\n};\n\ntoggle = () => {\n\t//add this after modal creation\n\tthis.setState({ modal: !this.state.modal });\n};\nhandleSubmit = (item) => {\n\tthis.toggle();\n\talert(\"save\" + JSON.stringify(item));\n};\n\n// Submit an item\nhandleSubmit = (item) => {\n\tthis.toggle();\n\tif (item.id) {\n\t// if old post to edit and submit\n\taxios\n\t\t.put(`http://localhost:8000/api/tasks/${item.id}/`, item)\n\t\t.then((res) => this.refreshList());\n\treturn;\n\t}\n\t// if new post to submit\n\taxios\n\t.post(\"http://localhost:8000/api/tasks/\", item)\n\t.then((res) => this.refreshList());\n};\n\n// Delete item\nhandleDelete = (item) => {\n\taxios\n\t.delete(`http://localhost:8000/api/tasks/${item.id}/`)\n\t.then((res) => this.refreshList());\n};\nhandleDelete = (item) => {\n\talert(\"delete\" + JSON.stringify(item));\n};\n\n// Create item\ncreateItem = () => {\n\tconst item = { title: \"\", description: \"\", completed: false };\n\tthis.setState({ activeItem: item, modal: !this.state.modal });\n};\n\n//Edit item\neditItem = (item) => {\n\tthis.setState({ activeItem: item, modal: !this.state.modal });\n};\n\n// Start by visual effects to viewer\nrender() {\n\treturn (\n\t<main className=\"content\">\n\t\t<h1 className=\"text-success text-uppercase text-center my-4\">\n\t\tGFG Task Manager\n\t\t</h1>\n\t\t<div className=\"row \">\n\t\t<div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n\t\t\t<div className=\"card p-3\">\n\t\t\t<div className=\"\">\n\t\t\t\t<button onClick={this.createItem} className=\"btn btn-info\">\n\t\t\t\tAdd task\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{this.renderTabList()}\n\t\t\t<ul className=\"list-group list-group-flush\">\n\t\t\t\t{this.renderItems()}\n\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t</div>\n\t\t{this.state.modal ? (\n\t\t<Modal\n\t\t\tactiveItem={this.state.activeItem}\n\t\t\ttoggle={this.toggle}\n\t\t\tonSave={this.handleSubmit}\n\t\t/>\n\t\t) : null}\n\t</main>\n\t);\n}\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}